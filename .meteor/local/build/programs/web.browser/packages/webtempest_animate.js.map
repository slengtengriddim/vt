{"version":3,"sources":["meteor://ðŸ’»app/packages/webtempest_animate/packages/webtempest_animate.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gH","file":"/packages/webtempest_animate.js","sourcesContent":["(function () {\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                  //\n// packages/webtempest:animate/template.transition.js                                               //\n//                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                    //\n                                                                                                    // 1\nTemplate.__checkName(\"transition\");                                                                 // 2\nTemplate[\"transition\"] = new Template(\"Template.transition\", (function() {                          // 3\n  var view = this;                                                                                  // 4\n  return Blaze.If(function() {                                                                      // 5\n    return Spacebars.call(Spacebars.dot(view.lookup(\".\"), \"wrap\"));                                 // 6\n  }, function() {                                                                                   // 7\n    return [ \"\\n    \", HTML.DIV({                                                                   // 8\n      \"class\": \"transition-wrapper\"                                                                 // 9\n    }, \"\\n      \", Blaze._InOuterTemplateScope(view, function() {                                   // 10\n      return Spacebars.include(function() {                                                         // 11\n        return Spacebars.call(view.templateContentBlock);                                           // 12\n      });                                                                                           // 13\n    }), \"\\n    \"), \"\\n  \" ];                                                                        // 14\n  }, function() {                                                                                   // 15\n    return [ \"\\n    \", Blaze._InOuterTemplateScope(view, function() {                               // 16\n      return Spacebars.include(function() {                                                         // 17\n        return Spacebars.call(view.templateContentBlock);                                           // 18\n      });                                                                                           // 19\n    }), \"\\n  \" ];                                                                                   // 20\n  });                                                                                               // 21\n}));                                                                                                // 22\n                                                                                                    // 23\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                  //\n// packages/webtempest:animate/transitions.coffee.js                                                //\n//                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                    //\n__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nvar ENDTRANSITION, Transitions;\n\nENDTRANSITION = 'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionEnd msTransitionEnd animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd animationEnd msAnimationEnd';\n\nTransitions = (function() {\n  function Transitions(options) {\n    var defaults, self;\n    defaults = {\n      onScreenClass: '',\n      offScreenClass: '',\n      hiddenClass: 'out',\n      animateClass: \"animated\"\n    };\n    this.opt = _.defaults(options, defaults);\n    this.opt.insertTimeout = this.getInsertTimeout();\n    this.opt.removeTimeout = this.getRemoveTimeout();\n    this.opt.parentNode._uihooks = this.createHooks();\n    self = this;\n    this.setupStyles();\n    _.each($(this.opt.parentNode).find('.animated.out'), function(item) {\n      return self.insertElement(item, null);\n    });\n  }\n\n  Transitions.prototype.setupStyles = function() {\n    var randName, styleInjection;\n    if (this.opt.inDuration || this.opt.outDuration) {\n      randName = this.opt.onScreenClass + _.random(0, 1000);\n      styleInjection = $(\"<style></style>\");\n      $(this.opt.parentNode).addClass(randName);\n      if (this.opt.inDuration) {\n        styleInjection.append(\".\" + randName + \" .animated.\" + this.opt.onScreenClass + \" {-webkit-animation-duration: \" + this.opt.inDuration + \"ms;animation-duration: \" + this.opt.inDuration + \"ms;}\");\n      }\n      if (this.opt.outDuration) {\n        styleInjection.append(\".\" + randName + \" .animated.\" + this.opt.offScreenClass + \" {-webkit-animation-duration: \" + this.opt.outDuration + \"ms;animation-duration: \" + this.opt.outDuration + \"ms;}\");\n      }\n      return $(this.opt.parentNode).append(styleInjection);\n    }\n  };\n\n  Transitions.prototype.getInsertTimeout = function() {\n    if (this.opt.inDuration) {\n      return parseInt(this.opt.inDuration);\n    }\n    switch (this.opt.onScreenClass) {\n      case 'hinge':\n        return 2000;\n      case 'bounceIn':\n        return 750;\n      default:\n        return 1000;\n    }\n  };\n\n  Transitions.prototype.getRemoveTimeout = function() {\n    if (this.opt.outDuration) {\n      return parseInt(this.opt.outDuration);\n    }\n    switch (this.opt.offScreenClass) {\n      case 'hinge':\n        return 2000;\n      case 'bounceOut':\n        return 750;\n      case 'flipOutX':\n        return 750;\n      case 'flipOutY':\n        return 750;\n      default:\n        return 1000;\n    }\n  };\n\n  Transitions.prototype.insertElement = function(node, next) {\n    var $node, $parent, finish, insert, self;\n    self = this;\n    $node = $(node);\n    $parent = $(self.opt.parentNode);\n    $node.addClass(\"\" + self.opt.animateClass + \" \" + self.opt.hiddenClass);\n    $node.attr('hidden', true);\n    $(next).before($node);\n    finish = function(e) {\n      $node.removeClass(self.opt.onScreenClass);\n      return node.setAttribute('inserting', false);\n    };\n    insert = function() {\n      $node.width();\n      $node.attr('hidden', false);\n      $node.removeClass(self.opt.hiddenClass);\n      $node.addClass(self.opt.onScreenClass);\n      return $node.one(ENDTRANSITION, finish);\n    };\n    if (self.removing) {\n      return Meteor.setTimeout(insert, self.opt.removeTimeout);\n    } else {\n      return insert();\n    }\n  };\n\n  Transitions.prototype.removeElement = function(node) {\n    var $node, remove, self;\n    $node = $(node);\n    self = this;\n    $node.addClass(self.opt.animateClass);\n    remove = function(e) {\n      self.removing = false;\n      return $node.remove();\n    };\n    if (self.opt.offScreenClass) {\n      $node.addClass(self.opt.offScreenClass);\n      self.removing = true;\n      return $node.one(ENDTRANSITION, remove);\n    } else {\n      return remove();\n    }\n  };\n\n  Transitions.prototype.createHooks = function() {\n    return {\n      opt: this.opt,\n      insertElement: this.insertElement,\n      removeElement: this.removeElement\n    };\n  };\n\n  return Transitions;\n\n})();\n\nTemplate.transition.onRendered(function() {\n  var inDuration, outDuration, params, parentNode, transitionIn, transitionOut, transitions, _ref, _ref1, _ref10, _ref11, _ref12, _ref13, _ref14, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;\n  transitionIn = ((_ref = this.data) != null ? (_ref1 = _ref[\"in\"]) != null ? (_ref2 = _ref1.match(/^(.*)\\:/)) != null ? _ref2[1] : void 0 : void 0 : void 0) || ((_ref3 = this.data) != null ? _ref3[\"in\"] : void 0);\n  transitionOut = ((_ref4 = this.data) != null ? (_ref5 = _ref4.out) != null ? (_ref6 = _ref5.match(/^(.*)\\:/)) != null ? _ref6[1] : void 0 : void 0 : void 0) || ((_ref7 = this.data) != null ? _ref7.out : void 0);\n  inDuration = (_ref8 = this.data) != null ? (_ref9 = _ref8[\"in\"]) != null ? (_ref10 = _ref9.match(/\\:(\\d*)/)) != null ? _ref10[1] : void 0 : void 0 : void 0;\n  outDuration = (_ref11 = this.data) != null ? (_ref12 = _ref11.out) != null ? (_ref13 = _ref12.match(/\\:(\\d*)/)) != null ? _ref13[1] : void 0 : void 0 : void 0;\n  if (this.$('>').first().hasClass('transition-wrapper')) {\n    parentNode = this.$('>').first()[0];\n  } else {\n    parentNode = (_ref14 = this.firstNode) != null ? _ref14.parentNode : void 0;\n  }\n  params = {\n    onScreenClass: transitionIn,\n    offScreenClass: transitionOut,\n    inDuration: inDuration,\n    outDuration: outDuration,\n    parentNode: parentNode\n  };\n  return transitions = new Transitions(params);\n});\n\nTemplate.transition.onDestroyed(function() {\n  var _ref, _ref1;\n  return (_ref = this.firstNode) != null ? (_ref1 = _ref.parentNode) != null ? _ref1._uihooks = null : void 0 : void 0;\n});\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                  //\n// packages/webtempest:animate/template.animate.js                                                  //\n//                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                    //\n                                                                                                    // 1\nTemplate.__checkName(\"animate\");                                                                    // 2\nTemplate[\"animate\"] = new Template(\"Template.animate\", (function() {                                // 3\n  var view = this;                                                                                  // 4\n  return Blaze._InOuterTemplateScope(view, function() {                                             // 5\n    return Spacebars.include(function() {                                                           // 6\n      return Spacebars.call(view.templateContentBlock);                                             // 7\n    });                                                                                             // 8\n  });                                                                                               // 9\n}));                                                                                                // 10\n                                                                                                    // 11\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                  //\n// packages/webtempest:animate/animate.coffee.js                                                    //\n//                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                    //\n__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nTemplate.animate.onRendered(function() {\n  var $node, animate, animation, delay, self, _ref, _ref1;\n  self = this;\n  $node = this.$('>').first();\n  animation = ((_ref = self.data) != null ? _ref.type : void 0) || 'bounce';\n  delay = ((_ref1 = self.data) != null ? _ref1.delay : void 0) && parseInt(self.data.delay) || 200;\n  animate = function() {\n    return $node.addClass(\"animated \" + animation);\n  };\n  if (delay) {\n    return Meteor.setTimeout(animate, delay);\n  } else {\n    return animate();\n  }\n});\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}