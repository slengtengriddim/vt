{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/views/trainer/lesen.js","filenameRelative":"/client/views/trainer/lesen.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/views/trainer/lesen.js.map","sourceFileName":"/client/views/trainer/lesen.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"lesen"},"ignored":false,"code":"Template.trainerLesen.onCreated(function () {\n\tvar _this = this;\n\n\tthis.autorun(function () {\n\t\t_this.subscribe('vocabularyAll');\n\t\t_this.subscribe('ownedFavourites');\n\t});\n});\n\nTemplate.trainerLesen.helpers({\n\tentry: function () {\n\t\tfunction entry() {\n\t\t\tvar currentUserId = this.userId;\n\t\t\tvar favIds = R.pluck('vocabularyId')(Favourites.find().fetch());\n\t\t\tvar shuffled = [];\n\n\t\t\tif (Session.get('randomFavourites')) {\n\t\t\t\tshuffled = Vocabulary.find({\n\t\t\t\t\t_id: {\n\t\t\t\t\t\t$in: favIds\n\t\t\t\t\t}\n\t\t\t\t}).fetch();\n\t\t\t} else {\n\t\t\t\tshuffled = Vocabulary.find({\n\t\t\t\t\t_id: {\n\t\t\t\t\t\t$nin: favIds\n\t\t\t\t\t}\n\t\t\t\t}).fetch();\n\t\t\t}\n\t\t\treturn shuffled[Session.get(COUNT_VIEWED)];\n\t\t}\n\n\t\treturn entry;\n\t}(),\n\tcountViewed: function () {\n\t\tfunction countViewed() {\n\t\t\treturn Session.get(COUNT_VIEWED);\n\t\t}\n\n\t\treturn countViewed;\n\t}(),\n\tlengthFav: function () {\n\t\tfunction lengthFav() {\n\t\t\treturn Session.get(LENGTH_FAV);\n\t\t}\n\n\t\treturn lengthFav;\n\t}(),\n\tlengthNotFav: function () {\n\t\tfunction lengthNotFav() {\n\t\t\treturn Session.get(LENGTH_NOT_FAV);\n\t\t}\n\n\t\treturn lengthNotFav;\n\t}(),\n\tmod: function () {\n\t\tfunction mod() {\n\t\t\treturn Session.get(COUNT_VIEWED) % Session.get(LENGTH_FAV);\n\t\t}\n\n\t\treturn mod;\n\t}()\n});\n\nTemplate.trainerLesen.events({\n\t'click .btn-backward': function () {\n\t\tfunction clickBtnBackward(event, template) {\n\t\t\tvar val = 0;\n\t\t\tif (Session.get(RANDOM_FAV)) {\n\t\t\t\t// to avoid going into negative numbers\n\t\t\t\tif (Session.get(COUNT_VIEWED) === 0) {\n\t\t\t\t\tval = Session.get(LENGTH_FAV) - 1;\n\t\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t\t} else {\n\t\t\t\t\tval = (Session.get(COUNT_VIEWED) - 1) % Session.get(LENGTH_FAV);\n\t\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (Session.get(COUNT_VIEWED) === 0) {\n\t\t\t\t\tval = Session.get(LENGTH_NOT_FAV) - 1;\n\t\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t\t} else {\n\t\t\t\t\tval = (Session.get(COUNT_VIEWED) - 1) % Session.get(LENGTH_NOT_FAV);\n\t\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn clickBtnBackward;\n\t}(),\n\t'click .btn-forward': function () {\n\t\tfunction clickBtnForward(event, template) {\n\t\t\tvar val = 0;\n\t\t\tif (Session.get(RANDOM_FAV)) {\n\t\t\t\tval = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_FAV);\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t} else {\n\t\t\t\tval = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_NOT_FAV);\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t}\n\t\t}\n\n\t\treturn clickBtnForward;\n\t}(),\n\t'click .btn-fav': function () {\n\t\tfunction clickBtnFav(event, template) {\n\t\t\tvar self = this;\n\n\t\t\tMeteor.call('toggleFavourite', this._id);\n\t\t\tconsole.log(Session.get(LENGTH_NOT_FAV));\n\t\t}\n\n\t\treturn clickBtnFav;\n\t}(),\n\t'click .btn-delete': function () {\n\t\tfunction clickBtnDelete(event, template) {\n\t\t\tconsole.log(this);\n\t\t\tMeteor.call('deleteFavourite', this._id);\n\t\t}\n\n\t\treturn clickBtnDelete;\n\t}()\n});","ast":null,"map":{"version":3,"sources":["/client/views/trainer/lesen.js"],"names":[],"mappings":"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","file":"/client/views/trainer/lesen.js.map","sourcesContent":["Template.trainerLesen.onCreated(function() {\n\tthis.autorun(() => {\n\t\tthis.subscribe('vocabularyAll');\n\t\tthis.subscribe('ownedFavourites');\n\t});\n});\n\nTemplate.trainerLesen.helpers({\n\tentry() {\n\t\tlet currentUserId = this.userId;\n\t\tlet favIds = R.pluck('vocabularyId')(Favourites.find().fetch());\n\t\tlet shuffled= [];\n\n\t\tif (Session.get('randomFavourites')) {\n\t\t\tshuffled = Vocabulary.find({\n\t\t\t\t_id: {\n\t\t\t\t\t$in: favIds\n\t\t\t\t}\n\t\t\t}).fetch();\n\t\t} else {\n\t\t\tshuffled = Vocabulary.find({\n\t\t\t\t_id: {\n\t\t\t\t\t$nin: favIds\n\t\t\t\t}\n\t\t\t}).fetch();\n\t\t}\n\t\treturn shuffled[Session.get(COUNT_VIEWED)];\n\t},\n\tcountViewed() {\n\t\treturn Session.get(COUNT_VIEWED);\n\t},\n\tlengthFav() {\n\t\treturn Session.get(LENGTH_FAV);\n\t},\n\tlengthNotFav() {\n\t\treturn Session.get(LENGTH_NOT_FAV);\n\t},\n\tmod() {\n\t\treturn Session.get(COUNT_VIEWED) % Session.get(LENGTH_FAV);\n\t}\n});\n\nTemplate.trainerLesen.events ({\n\t'click .btn-backward' (event, template) {\n\t\tlet val = 0;\n\t\tif (Session.get(RANDOM_FAV)) {\n\t\t\t// to avoid going into negative numbers\n\t\t\tif (Session.get(COUNT_VIEWED) === 0) {\n\t\t\t\tval = Session.get(LENGTH_FAV) - 1;\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t} else {\n\t\t\t\tval = (Session.get(COUNT_VIEWED) - 1) % Session.get(LENGTH_FAV);\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif (Session.get(COUNT_VIEWED) === 0) {\n\t\t\t\tval = Session.get(LENGTH_NOT_FAV) - 1;\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t} else {\n\t\t\t\tval = (Session.get(COUNT_VIEWED) - 1) % Session.get(LENGTH_NOT_FAV);\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t}\n\t\t}\n\t},\n\n\t'click .btn-forward' (event, template) {\n\t\tlet val = 0;\n\t\tif (Session.get(RANDOM_FAV)) {\n\t\t\tval = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_FAV);\n\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t} else {\n\t\t\tval = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_NOT_FAV);\n\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t}\n\t},\n\n\t'click .btn-fav' (event, template) {\n\t\tlet self = this;\n\n\t\tMeteor.call('toggleFavourite', this._id);\n\t\tconsole.log(Session.get(LENGTH_NOT_FAV));\n\t},\n\n\t'click .btn-delete' (event, template) {\n\t\tconsole.log(this);\n\t\tMeteor.call('deleteFavourite', this._id);\n\t}\n});\n"]},"hash":"ef46c6e12dab334ad508c2bb252fea4823cc98d4"}
