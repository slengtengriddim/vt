{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/views/trainer/lesen.js","filenameRelative":"/client/views/trainer/lesen.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/views/trainer/lesen.js.map","sourceFileName":"/client/views/trainer/lesen.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"lesen"},"ignored":false,"code":"Template.trainerLesen.onCreated(function () {\n\tvar _this = this;\n\n\tthis.autorun(function () {\n\t\t_this.subscribe('vocabularyAll');\n\t\t_this.subscribe('ownedFavourites');\n\t});\n});\n\nTemplate.trainerLesen.helpers({\n\tfavourites: function () {\n\t\tfunction favourites() {\n\t\t\tvar currentUserId = this.userId;\n\t\t\tvar favIds = R.pluck('vocabularyId')(Favourites.find().fetch());\n\t\t\tvar shuffled = [];\n\n\t\t\tif (Session.get('randomFavourites')) {\n\t\t\t\tshuffled = Vocabulary.find({\n\t\t\t\t\t_id: {\n\t\t\t\t\t\t$in: favIds\n\t\t\t\t\t}\n\t\t\t\t}).fetch();\n\t\t\t} else {\n\t\t\t\tshuffled = Vocabulary.find({\n\t\t\t\t\t_id: {\n\t\t\t\t\t\t$nin: favIds\n\t\t\t\t\t}\n\t\t\t\t}).fetch();\n\t\t\t}\n\t\t\treturn shuffled[Session.get('countViewed')];\n\t\t}\n\n\t\treturn favourites;\n\t}(),\n\tcountViewed: function () {\n\t\tfunction countViewed() {\n\t\t\treturn Session.get('countViewed');\n\t\t}\n\n\t\treturn countViewed;\n\t}(),\n\tfavLength: function () {\n\t\tfunction favLength() {\n\t\t\treturn FAV_LENGTH();\n\t\t}\n\n\t\treturn favLength;\n\t}(),\n\tmod: function () {\n\t\tfunction mod() {\n\t\t\treturn Session.get('countViewed') % FAV_LENGTH();\n\t\t}\n\n\t\treturn mod;\n\t}()\n});\n\nTemplate.trainerLesen.events({\n\t'click .btn-forward': function () {\n\t\tfunction clickBtnForward(event, template) {\n\t\t\tif (Session.get('randomFavourites')) {\n\t\t\t\tvar val = (Session.get('countViewed') + 1) % FAV_LENGTH();\n\t\t\t\tSession.set('countViewed', val);\n\t\t\t} else {\n\t\t\t\tvar _val = (Session.get('countViewed') + 1) % NON_FAV_LENGTH();\n\t\t\t\tSession.set('countViewed', _val);\n\t\t\t}\n\t\t}\n\n\t\treturn clickBtnForward;\n\t}(),\n\t'click .btn-fav': function () {\n\t\tfunction clickBtnFav(event, template) {\n\t\t\tvar self = this;\n\t\t\tconsole.log(self);\n\t\t\tMeteor.call('toggleFavourite', this._id);\n\t\t}\n\n\t\treturn clickBtnFav;\n\t}(),\n\t'click .btn-delete': function () {\n\t\tfunction clickBtnDelete(event, template) {\n\t\t\tMeteor.call('deleteFavourite', this._id);\n\t\t}\n\n\t\treturn clickBtnDelete;\n\t}()\n});","ast":null,"map":{"version":3,"sources":["/client/views/trainer/lesen.js"],"names":[],"mappings":"AAAA,SAAS,YAAT,CAAsB,SAAtB,CAAgC,YAAW;;;AAC1C,MAAK,OAAL,CAAa,YAAM;AAClB,QAAK,SAAL,CAAe,eAAf,EADkB;AAElB,QAAK,SAAL,CAAe,iBAAf,EAFkB;EAAN,CAAb,CAD0C;CAAX,CAAhC;;AAOA,SAAS,YAAT,CAAsB,OAAtB,CAA8B;AAC7B;wBAAa;AACZ,OAAI,gBAAgB,KAAK,MAAL,CADR;AAEZ,OAAI,SAAS,EAAE,KAAF,CAAQ,cAAR,EAAwB,WAAW,IAAX,GAAkB,KAAlB,EAAxB,CAAT,CAFQ;AAGZ,OAAI,WAAU,EAAV,CAHQ;;AAKZ,OAAI,QAAQ,GAAR,CAAY,kBAAZ,CAAJ,EAAqC;AACpC,eAAW,WAAW,IAAX,CAAgB;AAC1B,UAAK;AACJ,WAAK,MAAL;MADD;KADU,EAIR,KAJQ,EAAX,CADoC;IAArC,MAMO;AACN,eAAW,WAAW,IAAX,CAAgB;AAC1B,UAAK;AACJ,YAAM,MAAN;MADD;KADU,EAIR,KAJQ,EAAX,CADM;IANP;AAaA,UAAO,SAAS,QAAQ,GAAR,CAAY,aAAZ,CAAT,CAAP,CAlBY;;;;IADgB;AAqB7B;yBAAc;AACb,UAAO,QAAQ,GAAR,CAAY,aAAZ,CAAP,CADa;;;;IArBe;AAwB7B;uBAAY;AACX,UAAO,YAAP,CADW;;;;IAxBiB;AA2B7B;iBAAM;AACL,UAAO,QAAQ,GAAR,CAAY,aAAZ,IAA6B,YAA7B,CADF;;;;IA3BuB;CAA9B;;AAgCA,SAAS,YAAT,CAAsB,MAAtB,CAA8B;AAC7B;2BAAsB,OAAO,UAAU;AACtC,OAAI,QAAQ,GAAR,CAAY,kBAAZ,CAAJ,EAAqC;AACpC,QAAI,MAAM,CAAC,QAAQ,GAAR,CAAY,aAAZ,IAA6B,CAA7B,CAAD,GAAmC,YAAnC,CAD0B;AAEpC,YAAQ,GAAR,CAAY,aAAZ,EAA2B,GAA3B,EAFoC;IAArC,MAGO;AACN,QAAI,OAAM,CAAC,QAAQ,GAAR,CAAY,aAAZ,IAA6B,CAA7B,CAAD,GAAmC,gBAAnC,CADJ;AAEN,YAAQ,GAAR,CAAY,aAAZ,EAA2B,IAA3B,EAFM;IAHP;;;;IAF4B;AAW7B;uBAAkB,OAAO,UAAU;AAClC,OAAI,OAAO,IAAP,CAD8B;AAElC,WAAQ,GAAR,CAAY,IAAZ,EAFkC;AAGlC,UAAO,IAAP,CAAY,iBAAZ,EAA+B,KAAK,GAAL,CAA/B,CAHkC;;;;IAXN;AAiB7B;0BAAqB,OAAO,UAAU;AACrC,UAAO,IAAP,CAAY,iBAAZ,EAA+B,KAAK,GAAL,CAA/B,CADqC;;;;IAjBT;CAA9B","file":"/client/views/trainer/lesen.js.map","sourcesContent":["Template.trainerLesen.onCreated(function() {\n\tthis.autorun(() => {\n\t\tthis.subscribe('vocabularyAll');\n\t\tthis.subscribe('ownedFavourites');\n\t});\n});\n\nTemplate.trainerLesen.helpers({\n\tfavourites() {\n\t\tlet currentUserId = this.userId;\n\t\tlet favIds = R.pluck('vocabularyId')(Favourites.find().fetch());\n\t\tlet shuffled= [];\n\n\t\tif (Session.get('randomFavourites')) {\n\t\t\tshuffled = Vocabulary.find({\n\t\t\t\t_id: {\n\t\t\t\t\t$in: favIds\n\t\t\t\t}\n\t\t\t}).fetch();\n\t\t} else {\n\t\t\tshuffled = Vocabulary.find({\n\t\t\t\t_id: {\n\t\t\t\t\t$nin: favIds\n\t\t\t\t}\n\t\t\t}).fetch();\n\t\t}\n\t\treturn shuffled[Session.get('countViewed')];\n\t},\n\tcountViewed() {\n\t\treturn Session.get('countViewed');\n\t},\n\tfavLength() {\n\t\treturn FAV_LENGTH();\n\t},\n\tmod() {\n\t\treturn Session.get('countViewed') % FAV_LENGTH();\n\t}\n});\n\nTemplate.trainerLesen.events ({\n\t'click .btn-forward' (event, template) {\n\t\tif (Session.get('randomFavourites')) {\n\t\t\tlet val = (Session.get('countViewed') + 1) % FAV_LENGTH();\n\t\t\tSession.set('countViewed', val);\n\t\t} else {\n\t\t\tlet val = (Session.get('countViewed') + 1) % NON_FAV_LENGTH();\n\t\t\tSession.set('countViewed', val);\n\t\t}\n\t},\n\n\t'click .btn-fav' (event, template) {\n\t\tlet self = this;\n\t\tconsole.log(self);\n\t\tMeteor.call('toggleFavourite', this._id);\n\t},\n\n\t'click .btn-delete' (event, template) {\n\t\tMeteor.call('deleteFavourite', this._id);\n\t}\n});\n"]},"hash":"30be6ecdd678b308cbe5813f2a97233874afff5a"}
