{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/layout/layout_trainer.js","filenameRelative":"/client/layout/layout_trainer.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/layout/layout_trainer.js.map","sourceFileName":"/client/layout/layout_trainer.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"layout_trainer"},"ignored":false,"code":"Template.layoutTrainer.onCreated(function () {\n\tvar _this = this;\n\n\tthis.autorun(function () {\n\t\t_this.subscribe('vocabularyAll');\n\t\t_this.subscribe('ownedFavourites');\n\t});\n});\n\nTemplate.layoutTrainer.events({\n\t'click .btn-reveal': function () {\n\t\tfunction clickBtnReveal(event, template) {\n\t\t\tif (!Session.get(REVEALED)) {\n\t\t\t\tSession.set(REVEALED, true);\n\t\t\t}\n\t\t}\n\n\t\treturn clickBtnReveal;\n\t}(),\n\t'click .btn-switch': function () {\n\t\tfunction clickBtnSwitch(event, template) {\n\t\t\tvar oldValue = Session.get(TERM_MODE) || false;\n\t\t\tSession.set(TERM_MODE, !oldValue);\n\t\t}\n\n\t\treturn clickBtnSwitch;\n\t}(),\n\t'click .btn-backward': function () {\n\t\tfunction clickBtnBackward(event, template) {\n\t\t\tvar val = 0;\n\t\t\tif (Session.get(RANDOM_FAV)) {\n\t\t\t\t// to avoid going into negative numbers\n\t\t\t\tif (Session.get(COUNT_VIEWED) === 0) {\n\t\t\t\t\tval = Session.get(LENGTH_FAV) - 1;\n\t\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t\t} else {\n\t\t\t\t\tval = (Session.get(COUNT_VIEWED) - 1) % Session.get(LENGTH_FAV);\n\t\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (Session.get(COUNT_VIEWED) === 0) {\n\t\t\t\t\tval = Session.get(LENGTH_NOT_FAV) - 1;\n\t\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t\t} else {\n\t\t\t\t\tval = (Session.get(COUNT_VIEWED) - 1) % Session.get(LENGTH_NOT_FAV);\n\t\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (Session.get(REVEALED)) {\n\t\t\t\tSession.set(REVEALED, false);\n\t\t\t}\n\t\t\tif (Session.get(TERM_WRONG)) {\n\t\t\t\tSession.set(TERM_WRONG, false);\n\t\t\t}\n\t\t\tif (document.getElementById(\"term\")) {\n\t\t\t\tdocument.getElementById(\"term\").value = '';\n\t\t\t}\n\t\t}\n\n\t\treturn clickBtnBackward;\n\t}(),\n\t'click .btn-forward': function () {\n\t\tfunction clickBtnForward(event, template) {\n\t\t\tvar val = 0;\n\t\t\tif (Session.get(RANDOM_FAV)) {\n\t\t\t\tval = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_FAV);\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t} else {\n\t\t\t\tval = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_NOT_FAV);\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t}\n\t\t\tif (Session.get(REVEALED)) {\n\t\t\t\tSession.set(REVEALED, false);\n\t\t\t}\n\t\t\tif (Session.get(TERM_WRONG)) {\n\t\t\t\tSession.set(TERM_WRONG, false);\n\t\t\t}\n\t\t\tif (document.getElementById(\"term\")) {\n\t\t\t\tdocument.getElementById(\"term\").value = '';\n\t\t\t}\n\t\t}\n\n\t\treturn clickBtnForward;\n\t}(),\n\t'click .btn-fav': function () {\n\t\tfunction clickBtnFav(event, template) {\n\t\t\tMeteor.call('toggleFavourite', this._id);\n\n\t\t\t// reset the COUNT VIEW when a list entry has been removed\n\t\t\tif (Session.get(RANDOM_NOT_FAV) && Session.get(COUNT_VIEWED) >= Session.get(LENGTH_NOT_FAV) - 1) {\n\t\t\t\tvar val = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_NOT_FAV);\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t}\n\n\t\t\tif (Session.get(LENGTH_NOT_FAV) === 1) {\n\t\t\t\tSession.set(RANDOM_NOT_FAV, !Session.get(RANDOM_NOT_FAV));\n\t\t\t\tSession.set(RANDOM_FAV, !Session.get(RANDOM_FAV));\n\t\t\t}\n\t\t}\n\n\t\treturn clickBtnFav;\n\t}(),\n\t'click .btn-delete': function () {\n\t\tfunction clickBtnDelete(event, template) {\n\t\t\tMeteor.call('deleteFavourite', this._id);\n\n\t\t\tif (Session.get(RANDOM_FAV) && Session.get(COUNT_VIEWED) >= Session.get(LENGTH_FAV) - 1) {\n\t\t\t\tvar val = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_FAV);\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t}\n\t\t\tif (Session.get(LENGTH_FAV) === 1) {\n\t\t\t\tSession.set(RANDOM_FAV, !Session.get(RANDOM_FAV));\n\t\t\t\tSession.set(RANDOM_NOT_FAV, !Session.get(RANDOM_NOT_FAV));\n\t\t\t}\n\t\t}\n\n\t\treturn clickBtnDelete;\n\t}()\n});","ast":null,"map":{"version":3,"sources":["/client/layout/layout_trainer.js"],"names":[],"mappings":"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","file":"/client/layout/layout_trainer.js.map","sourcesContent":["Template.layoutTrainer.onCreated(function() {\n\tthis.autorun(() => {\n\t\tthis.subscribe('vocabularyAll');\n\t\tthis.subscribe('ownedFavourites');\n\t});\n});\n\nTemplate.layoutTrainer.events({\n\t'click .btn-reveal' (event, template) {\n\t\tif (!Session.get(REVEALED)) {\n\t\t\tSession.set(REVEALED, true);\n\t\t}\n\t},\n\n\t'click .btn-switch' (event, template) {\n\t\tlet oldValue = Session.get(TERM_MODE) || false;\n\t\tSession.set(TERM_MODE, !oldValue);\n\t},\n\n\t'click .btn-backward' (event, template) {\n\t\tlet val = 0;\n\t\tif (Session.get(RANDOM_FAV)) {\n\t\t\t// to avoid going into negative numbers\n\t\t\tif (Session.get(COUNT_VIEWED) === 0) {\n\t\t\t\tval = Session.get(LENGTH_FAV) - 1;\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t} else {\n\t\t\t\tval = (Session.get(COUNT_VIEWED) - 1) % Session.get(LENGTH_FAV);\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t}\n\t\t} else {\n\t\t\tif (Session.get(COUNT_VIEWED) === 0) {\n\t\t\t\tval = Session.get(LENGTH_NOT_FAV) - 1;\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t} else {\n\t\t\t\tval = (Session.get(COUNT_VIEWED) - 1) % Session.get(LENGTH_NOT_FAV);\n\t\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t\t}\n\t\t}\n\t\tif (Session.get(REVEALED)) {\n\t\t\tSession.set(REVEALED, false);\n\t\t}\n\t\tif (Session.get(TERM_WRONG)) {\n\t\t\tSession.set(TERM_WRONG, false);\n\t\t}\n\t\tif (document.getElementById(\"term\")) {\n\t\t\tdocument.getElementById(\"term\").value = '';\n\t\t}\n\t},\n\n\t'click .btn-forward' (event, template) {\n\t\tlet val = 0;\n\t\tif (Session.get(RANDOM_FAV)) {\n\t\t\tval = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_FAV);\n\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t} else {\n\t\t\tval = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_NOT_FAV);\n\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t}\n\t\tif (Session.get(REVEALED)) {\n\t\t\tSession.set(REVEALED, false);\n\t\t}\n\t\tif (Session.get(TERM_WRONG)) {\n\t\t\tSession.set(TERM_WRONG, false);\n\t\t}\n\t\tif (document.getElementById(\"term\")) {\n\t\t\tdocument.getElementById(\"term\").value = '';\n\t\t}\n\t},\n\n\t'click .btn-fav' (event, template) {\n\t\tMeteor.call('toggleFavourite', this._id);\n\n\t\t// reset the COUNT VIEW when a list entry has been removed\n\t\tif (Session.get(RANDOM_NOT_FAV) && Session.get(COUNT_VIEWED) >= Session.get(LENGTH_NOT_FAV) - 1) {\n\t\t\tlet val = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_NOT_FAV);\n\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t}\n\n\t\tif (Session.get(LENGTH_NOT_FAV) === 1) {\n\t\t\tSession.set(RANDOM_NOT_FAV, !Session.get(RANDOM_NOT_FAV));\n\t\t\tSession.set(RANDOM_FAV, !Session.get(RANDOM_FAV))\n\t\t}\n\t},\n\n\t'click .btn-delete' (event, template) {\n\t\tMeteor.call('deleteFavourite', this._id);\n\n\t\tif (Session.get(RANDOM_FAV) && Session.get(COUNT_VIEWED) >= Session.get(LENGTH_FAV) - 1) {\n\t\t\tlet val = (Session.get(COUNT_VIEWED) + 1) % Session.get(LENGTH_FAV);\n\t\t\tSession.set(COUNT_VIEWED, val);\n\t\t}\n\t\tif (Session.get(LENGTH_FAV) === 1) {\n\t\t\tSession.set(RANDOM_FAV, !Session.get(RANDOM_FAV));\n\t\t\tSession.set(RANDOM_NOT_FAV, !Session.get(RANDOM_NOT_FAV))\n\t\t}\n\t}\n});\n"]},"hash":"186438fffb7d749706dfffd08fb56caa7a31b77f"}
