{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/views/favouriten/favouriten.js","filenameRelative":"/client/views/favouriten/favouriten.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/views/favouriten/favouriten.js.map","sourceFileName":"/client/views/favouriten/favouriten.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"favouriten"},"ignored":false,"code":"Template.favouriten.onCreated(function () {\n\tvar template = Template.instance();\n\ttemplate.loading = new ReactiveVar(false);\n\n\tTracker.autorun(function () {\n\t\ttemplate.subscribe('ownedFavourites');\n\t\ttemplate.subscribe('vocabularyAll', function () {\n\t\t\tsetTimeout(function () {\n\t\t\t\ttemplate.loading.set(false);\n\t\t\t}, 300);\n\t\t});\n\t});\n});\n\nTemplate.favouriten.helpers({\n\tloading: function () {\n\t\tfunction loading() {\n\t\t\treturn Template.instance().loading.get();\n\t\t}\n\n\t\treturn loading;\n\t}(),\n\tfavourites: function () {\n\t\tfunction favourites() {\n\t\t\tvar favIds = R.pluck('vocabularyId')(Favourites.find({}).fetch());\n\n\t\t\tif (Favourites.find().count() !== 0) {\n\t\t\t\treturn Vocabulary.find({\n\t\t\t\t\t_id: {\n\t\t\t\t\t\t$in: favIds\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tsort: {\n\t\t\t\t\t\tterm: 1\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\treturn favourites;\n\t}()\n});\n\nTemplate.favouriten.events({\n\t'click .btn-delete': function () {\n\t\tfunction clickBtnDelete(event, template) {\n\n\t\t\tMeteor.call('deleteFavourite', this._id);\n\t\t}\n\n\t\treturn clickBtnDelete;\n\t}()\n});","ast":null,"map":{"version":3,"sources":["/client/views/favouriten/favouriten.js"],"names":[],"mappings":"AAAA,SAAS,UAAT,CAAoB,SAApB,CAA8B,YAAW;AACxC,KAAI,WAAW,SAAS,QAAT,EAAX,CADoC;AAExC,UAAS,OAAT,GAAmB,IAAI,WAAJ,CAAgB,KAAhB,CAAnB,CAFwC;;AAIxC,SAAQ,OAAR,CAAgB,YAAM;AACrB,WAAS,SAAT,CAAmB,iBAAnB,EADqB;AAErB,WAAS,SAAT,CAAmB,eAAnB,EAAoC,YAAM;AACzC,cAAW,YAAM;AAChB,aAAS,OAAT,CAAiB,GAAjB,CAAqB,KAArB,EADgB;IAAN,EAER,GAFH,EADyC;GAAN,CAApC,CAFqB;EAAN,CAAhB,CAJwC;CAAX,CAA9B;;AAeA,SAAS,UAAT,CAAoB,OAApB,CAA4B;AAC3B;qBAAU;AACT,UAAO,SAAS,QAAT,GAAoB,OAApB,CAA4B,GAA5B,EAAP,CADS;;;;IADiB;AAI3B;wBAAa;AACZ,OAAI,SAAS,EAAE,KAAF,CAAQ,cAAR,EAAwB,WAAW,IAAX,CAAgB,EAAhB,EAAoB,KAApB,EAAxB,CAAT,CADQ;;AAGZ,OAAI,WAAW,IAAX,GAAkB,KAAlB,OAA8B,CAA9B,EAAiC;AACpC,WAAO,WAAW,IAAX,CAAgB;AACtB,UAAK;AACJ,WAAK,MAAL;MADD;KADM,EAIJ;AACF,WAAM;AACL,YAAM,CAAN;MADD;KALM,CAAP,CADoC;IAArC,MAUO;AACN,WAAO,IAAP,CADM;IAVP;;;;IAP0B;CAA5B;;AAuBA,SAAS,UAAT,CAAoB,MAApB,CAA2B;AAC1B;0BAAqB,OAAO,UAAU;;AAErC,UAAO,IAAP,CAAY,iBAAZ,EAA+B,KAAK,GAAL,CAA/B,CAFqC;;;;IADZ;CAA3B","file":"/client/views/favouriten/favouriten.js.map","sourcesContent":["Template.favouriten.onCreated(function() {\n\tlet template = Template.instance();\n\ttemplate.loading = new ReactiveVar(false);\n\n\tTracker.autorun(() => {\n\t\ttemplate.subscribe('ownedFavourites');\n\t\ttemplate.subscribe('vocabularyAll', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\ttemplate.loading.set(false);\n\t\t\t}, 300);\n\t\t});\n\t});\n});\n\n\nTemplate.favouriten.helpers({\n\tloading() {\n\t\treturn Template.instance().loading.get();\n\t},\n\tfavourites() {\n\t\tlet favIds = R.pluck('vocabularyId')(Favourites.find({}).fetch());\n\n\t\tif (Favourites.find().count() !== 0) {\n\t\t\treturn Vocabulary.find({\n\t\t\t\t_id: {\n\t\t\t\t\t$in: favIds\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tsort: {\n\t\t\t\t\tterm: 1\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n});\n\nTemplate.favouriten.events({\n\t'click .btn-delete' (event, template) {\n\n\t\tMeteor.call('deleteFavourite', this._id);\n\t}\n});\n"]},"hash":"7f70654da2b771fc73e04337124a9d58af308369"}
