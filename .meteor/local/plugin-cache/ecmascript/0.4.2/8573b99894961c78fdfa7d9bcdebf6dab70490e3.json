{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/views/high/stats/charts/chart_bar_clicks_per_day.js","filenameRelative":"/client/views/high/stats/charts/chart_bar_clicks_per_day.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/views/high/stats/charts/chart_bar_clicks_per_day.js.map","sourceFileName":"/client/views/high/stats/charts/chart_bar_clicks_per_day.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"chart_bar_clicks_per_day"},"ignored":false,"code":"Template.chartBarClicksPerDay.rendered = function () {\n\tvar data = function data() {\n\t\tvar result = [];\n\t\tvar data = Data.Detail.find({}, {\n\t\t\tsort: {\n\t\t\t\ttimestamp: 1\n\t\t\t}\n\t\t}).fetch();\n\t\tvar byMode = R.groupBy(function (entry) {\n\t\t\treturn entry.mode;\n\t\t});\n\t\tvar byAttention = R.groupBy(function (entry) {\n\t\t\treturn entry.attention;\n\t\t});\n\t\tvar byDate = R.groupBy(function (entry) {\n\t\t\tvar day = entry.timestamp;\n\t\t\t// day.setHours(0);\n\t\t\t// day.setMinutes(0);\n\t\t\tday.setSeconds(0);\n\t\t\tday.setMilliseconds(0);\n\t\t\tif (entry.timestamp.getMinutes()) {\n\t\t\t\treturn day;\n\t\t\t}\n\t\t});\n\t\tvar sortedByDate = R.map(R.length, byDate(data));\n\t\tfor (var k in meteorBabelHelpers.sanitizeForInObject(sortedByDate)) {\n\t\t\tif (sortedByDate.hasOwnProperty(k)) {\n\t\t\t\tresult.push({\n\t\t\t\t\tx: k,\n\t\t\t\t\ty: sortedByDate[k]\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tconsole.log(result);\n\t};\n\n\tvar barChart = function barChart() {\n\t\treturn [{\n\t\t\tkey: \"Clicks per Day\",\n\t\t\tvalues: data()\n\t\t}];\n\t};\n\n\t// chart object\n\tvar chart = nv.models.discreteBarChart().x(function (d) {\n\t\treturn d.x;\n\t}).y(function (d) {\n\t\treturn d.y;\n\t}).staggerLabels(true)\n\t//.staggerLabels(historicalBarChart[0].values.length > 8)\n\t.showValues(true).duration(250);\n\n\t// chart details\n\tnv.addGraph(function () {\n\t\td3.select('#chartBarClicksPerDay svg').datum(barChart()).call(chart);\n\t\tnv.utils.windowResize(chart.update);\n\t\treturn chart;\n\t});\n\n\t// update chart when data changes\n\tthis.autorun(function () {\n\t\td3.select('#chartBarClicksPerDay svg').datum(barChart()).call(chart);\n\t\tchart.update();\n\t});\n};","ast":null,"map":{"version":3,"sources":["/client/views/high/stats/charts/chart_bar_clicks_per_day.js"],"names":[],"mappings":"AAAA,SAAS,oBAAT,CAA8B,QAA9B,GAAyC,YAAW;AACnD,KAAI,OAAO,gBAAM;AAChB,MAAI,SAAS,EAAT,CADY;AAEhB,MAAI,OAAO,KAAK,MAAL,CAAY,IAAZ,CAAiB,EAAjB,EAAqB;AAC/B,SAAM;AACL,eAAW,CAAX;IADD;GADU,EAIR,KAJQ,EAAP,CAFY;AAOhB,MAAI,SAAS,EAAE,OAAF,CAAU,UAAS,KAAT,EAAgB;AACtC,UAAO,MAAM,IAAN,CAD+B;GAAhB,CAAnB,CAPY;AAUhB,MAAI,cAAc,EAAE,OAAF,CAAU,UAAS,KAAT,EAAgB;AAC3C,UAAO,MAAM,SAAN,CADoC;GAAhB,CAAxB,CAVY;AAahB,MAAI,SAAS,EAAE,OAAF,CAAU,UAAS,KAAT,EAAgB;AACtC,OAAI,MAAM,MAAM,SAAN;;;AAD4B,MAItC,CAAI,UAAJ,CAAe,CAAf,EAJsC;AAKtC,OAAI,eAAJ,CAAoB,CAApB,EALsC;AAMtC,OAAI,MAAM,SAAN,CAAgB,UAAhB,EAAJ,EAAkC;AACjC,WAAO,GAAP,CADiC;IAAlC;GANsB,CAAnB,CAbY;AAuBhB,MAAI,eAAe,EAAE,GAAF,CAAM,EAAE,MAAF,EAAU,OAAO,IAAP,CAAhB,CAAf,CAvBY;AAwBhB,OAAK,IAAI,CAAJ,2CAAS,aAAd,EAA4B;AAC3B,OAAI,aAAa,cAAb,CAA4B,CAA5B,CAAJ,EAAoC;AACnC,WAAO,IAAP,CAAY;AACX,QAAG,CAAH;AACA,QAAG,aAAa,CAAb,CAAH;KAFD,EADmC;IAApC;GADD,CAxBgB;AAgChB,UAAQ,GAAR,CAAY,MAAZ,EAhCgB;EAAN,CADwC;;AAoCnD,KAAI,WAAW,SAAX,QAAW,GAAM;AACpB,SAAO,CAAC;AACP,QAAK,gBAAL;AACA,WAAQ,MAAR;GAFM,CAAP,CADoB;EAAN;;;AApCoC,KA4C/C,QAAQ,GAAG,MAAH,CAAU,gBAAV,GACV,CADU,CACR,UAAS,CAAT,EAAY;AACd,SAAO,EAAE,CAAF,CADO;EAAZ,CADQ,CAIV,CAJU,CAIR,UAAS,CAAT,EAAY;AACd,SAAO,EAAE,CAAF,CADO;EAAZ,CAJQ,CAOV,aAPU,CAOI,IAPJ;;EASV,UATU,CASC,IATD,EAUV,QAVU,CAUD,GAVC,CAAR;;;AA5C+C,GAyDnD,CAAG,QAAH,CAAY,YAAW;AACtB,KAAG,MAAH,CAAU,2BAAV,EACE,KADF,CACQ,UADR,EAEE,IAFF,CAEO,KAFP,EADsB;AAItB,KAAG,KAAH,CAAS,YAAT,CAAsB,MAAM,MAAN,CAAtB,CAJsB;AAKtB,SAAO,KAAP,CALsB;EAAX,CAAZ;;;AAzDmD,KAkEnD,CAAK,OAAL,CAAa,YAAW;AACvB,KAAG,MAAH,CAAU,2BAAV,EACE,KADF,CACQ,UADR,EAEE,IAFF,CAEO,KAFP,EADuB;AAIvB,QAAM,MAAN,GAJuB;EAAX,CAAb,CAlEmD;CAAX","file":"/client/views/high/stats/charts/chart_bar_clicks_per_day.js.map","sourcesContent":["Template.chartBarClicksPerDay.rendered = function() {\n\tlet data = () => {\n\t\tlet result = [];\n\t\tlet data = Data.Detail.find({}, {\n\t\t\tsort: {\n\t\t\t\ttimestamp: 1\n\t\t\t}\n\t\t}).fetch();\n\t\tlet byMode = R.groupBy(function(entry) {\n\t\t\treturn entry.mode;\n\t\t});\n\t\tlet byAttention = R.groupBy(function(entry) {\n\t\t\treturn entry.attention;\n\t\t});\n\t\tlet byDate = R.groupBy(function(entry) {\n\t\t\tlet day = entry.timestamp;\n\t\t\t// day.setHours(0);\n\t\t\t// day.setMinutes(0);\n\t\t\tday.setSeconds(0);\n\t\t\tday.setMilliseconds(0);\n\t\t\tif (entry.timestamp.getMinutes()) {\n\t\t\t\treturn day;\n\t\t\t}\n\t\t});\n\t\tlet sortedByDate = R.map(R.length, byDate(data));\n\t\tfor (let k in sortedByDate) {\n\t\t\tif (sortedByDate.hasOwnProperty(k)) {\n\t\t\t\tresult.push({\n\t\t\t\t\tx: k,\n\t\t\t\t\ty: sortedByDate[k]\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tconsole.log(result);\n\t};\n\n\tlet barChart = () => {\n\t\treturn [{\n\t\t\tkey: \"Clicks per Day\",\n\t\t\tvalues: data()\n\t\t}]\n\t};\n\n\t// chart object\n\tlet chart = nv.models.discreteBarChart()\n\t\t.x(function(d) {\n\t\t\treturn d.x\n\t\t})\n\t\t.y(function(d) {\n\t\t\treturn d.y\n\t\t})\n\t\t.staggerLabels(true)\n\t\t//.staggerLabels(historicalBarChart[0].values.length > 8)\n\t\t.showValues(true)\n\t\t.duration(250);\n\n\t// chart details\n\tnv.addGraph(function() {\n\t\td3.select('#chartBarClicksPerDay svg')\n\t\t\t.datum(barChart())\n\t\t\t.call(chart);\n\t\tnv.utils.windowResize(chart.update);\n\t\treturn chart;\n\t});\n\n\t// update chart when data changes\n\tthis.autorun(function() {\n\t\td3.select('#chartBarClicksPerDay svg')\n\t\t\t.datum(barChart())\n\t\t\t.call(chart);\n\t\tchart.update();\n\t});\n};\n"]},"hash":"8573b99894961c78fdfa7d9bcdebf6dab70490e3"}
