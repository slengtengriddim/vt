{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/views/high/uebersicht/statistik.js","filenameRelative":"/client/views/high/uebersicht/statistik.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/views/high/uebersicht/statistik.js.map","sourceFileName":"/client/views/high/uebersicht/statistik.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"statistik"},"ignored":false,"code":"Template.statistik.onCreated(function () {\n\tvar template = Template.instance();\n\ttemplate.subscribe('dataDetail');\n\ttemplate.subscribe('userStatus');\n});\n\nTemplate.statistik.helpers({\n\tusersOnline: function () {\n\t\tfunction usersOnline() {\n\t\t\tMeteor.users.find({\n\t\t\t\t\"status.online\": true\n\t\t\t}).fetch();\n\t\t}\n\n\t\treturn usersOnline;\n\t}(),\n\temail: function () {\n\t\tfunction email() {\n\t\t\treturn this.user().emails[0].address;\n\t\t}\n\n\t\treturn email;\n\t}(),\n\tlabelClass: function () {\n\t\tfunction labelClass() {\n\t\t\tif (this.status.idle) return \"label-warning\";else if (this.status.online) return \"label-success\";else return \"label-default\";\n\t\t}\n\n\t\treturn labelClass;\n\t}()\n});\n\nTemplate.statistik.events({\n\t'click .btn-test': function () {\n\t\tfunction clickBtnTest(event, template) {\n\t\t\tvar result = [];\n\t\t\tvar data = Data.Words.find().fetch();\n\n\t\t\tvar byVocabularyId = R.groupBy(function (entry) {\n\t\t\t\treturn entry.vocabularyId;\n\t\t\t});\n\t\t\t// let byMode = R.groupBy(function(entry) {\n\t\t\t// \treturn entry.mode;\n\t\t\t// });\n\t\t\t// let byAttention = R.groupBy(function(entry) {\n\t\t\t// \treturn entry.attention;\n\t\t\t// });\n\t\t\t// let byDate = R.groupBy(function(entry) {\n\t\t\t// \tlet day = entry.timestamp;\n\t\t\t// \t// day.setHours(0);\n\t\t\t// \t// day.setMinutes(0);\n\t\t\t// \tday.setSeconds(0);\n\t\t\t// \tday.setMilliseconds(0);\n\t\t\t// \tif (entry.timestamp.getMinutes()) {\n\t\t\t// \t\treturn day;\n\t\t\t// \t}\n\t\t\t// });\n\n\t\t\tvar groupedByVocabularyId = byVocabularyId(data);\n\t\t\tfor (var k in meteorBabelHelpers.sanitizeForInObject(groupedByVocabularyId)) {\n\t\t\t\tif (groupedByVocabularyId.hasOwnProperty(k)) {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\tx: groupedByVocabularyId[k][0].vocabularyName,\n\t\t\t\t\t\ty: R.sum(R.pluck('viewed')(groupedByVocabularyId[k]))\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tresult.forEach(function (entry) {\n\t\t\t\tconsole.log(R.prop('y', entry));\n\t\t\t});\n\t\t\tconsole.log(result);\n\t\t}\n\n\t\treturn clickBtnTest;\n\t}()\n});","ast":null,"map":{"version":3,"sources":["/client/views/high/uebersicht/statistik.js"],"names":[],"mappings":"AAAA,SAAS,SAAT,CAAmB,SAAnB,CAA6B,YAAM;AAClC,KAAI,WAAW,SAAS,QAAT,EAAX,CAD8B;AAElC,UAAS,SAAT,CAAmB,YAAnB,EAFkC;AAGlC,UAAS,SAAT,CAAmB,YAAnB,EAHkC;CAAN,CAA7B;;AAMA,SAAS,SAAT,CAAmB,OAAnB,CAA2B;AAC1B;yBAAc;AACb,UAAO,KAAP,CAAa,IAAb,CAAkB;AACf,qBAAiB,IAAjB;IADH,EAEK,KAFL,GADa;;;;IADY;AAM1B;mBAAQ;AACP,UAAO,KAAK,IAAL,GAAY,MAAZ,CAAmB,CAAnB,EAAsB,OAAtB,CADA;;;;IANkB;AAS1B;wBAAa;AACZ,OAAI,KAAK,MAAL,CAAY,IAAZ,EACH,OAAO,eAAP,CADD,KAEK,IAAI,KAAK,MAAL,CAAY,MAAZ,EACR,OAAO,eAAP,CADI,KAGJ,OAAO,eAAP,CAHI;;;;IAZoB;CAA3B;;AAmBA,SAAS,SAAT,CAAmB,MAAnB,CAA0B;AACzB;wBAAmB,OAAO,UAAU;AACnC,OAAI,SAAS,EAAT,CAD+B;AAEnC,OAAI,OAAO,KAAK,KAAL,CAAW,IAAX,GAAkB,KAAlB,EAAP,CAF+B;;AAInC,OAAI,iBAAiB,EAAE,OAAF,CAAU,UAAS,KAAT,EAAgB;AAC9C,WAAO,MAAM,YAAN,CADuC;IAAhB,CAA3B;;;;;;;;;;;;;;;;;;AAJ+B,OAwB/B,wBAAwB,eAAe,IAAf,CAAxB,CAxB+B;AAyBnC,QAAK,IAAI,CAAJ,2CAAS,sBAAd,EAAqC;AACpC,QAAI,sBAAsB,cAAtB,CAAqC,CAArC,CAAJ,EAA6C;AAC5C,YAAO,IAAP,CAAY;AACX,SAAG,sBAAsB,CAAtB,EAAyB,CAAzB,EAA4B,cAA5B;AACH,SAAG,EAAE,GAAF,CAAM,EAAE,KAAF,CAAQ,QAAR,EAAkB,sBAAsB,CAAtB,CAAlB,CAAN,CAAH;MAFD,EAD4C;KAA7C;IADD,CAzBmC;AAiCnC,UAAO,OAAP,CAAe,iBAAS;AACvB,YAAQ,GAAR,CAAY,EAAE,IAAF,CAAO,GAAP,EAAY,KAAZ,CAAZ,EADuB;IAAT,CAAf,CAjCmC;AAoCnC,WAAQ,GAAR,CAAY,MAAZ,EApCmC;;;;IADX;CAA1B","file":"/client/views/high/uebersicht/statistik.js.map","sourcesContent":["Template.statistik.onCreated(() => {\n\tlet template = Template.instance();\n\ttemplate.subscribe('dataDetail');\n\ttemplate.subscribe('userStatus');\n});\n\nTemplate.statistik.helpers({\n\tusersOnline() {\n\t\tMeteor.users.find({\n\t\t\t\t\t\"status.online\": true\n\t\t\t\t}).fetch();\n\t},\n\temail() {\n\t\treturn this.user().emails[0].address;\n\t},\n\tlabelClass() {\n\t\tif (this.status.idle)\n\t\t\treturn \"label-warning\"\n\t\telse if (this.status.online)\n\t\t\treturn \"label-success\"\n\t\telse\n\t\t\treturn \"label-default\"\n\t}\n});\n\nTemplate.statistik.events({\n\t'click .btn-test' (event, template) {\n\t\tlet result = [];\n\t\tlet data = Data.Words.find().fetch();\n\n\t\tlet byVocabularyId = R.groupBy(function(entry) {\n\t\t\treturn entry.vocabularyId;\n\t\t});\n\t\t// let byMode = R.groupBy(function(entry) {\n\t\t// \treturn entry.mode;\n\t\t// });\n\t\t// let byAttention = R.groupBy(function(entry) {\n\t\t// \treturn entry.attention;\n\t\t// });\n\t\t// let byDate = R.groupBy(function(entry) {\n\t\t// \tlet day = entry.timestamp;\n\t\t// \t// day.setHours(0);\n\t\t// \t// day.setMinutes(0);\n\t\t// \tday.setSeconds(0);\n\t\t// \tday.setMilliseconds(0);\n\t\t// \tif (entry.timestamp.getMinutes()) {\n\t\t// \t\treturn day;\n\t\t// \t}\n\t\t// });\n\n\t\tlet groupedByVocabularyId = byVocabularyId(data);\n\t\tfor (let k in groupedByVocabularyId) {\n\t\t\tif (groupedByVocabularyId.hasOwnProperty(k)) {\n\t\t\t\tresult.push({\n\t\t\t\t\tx: groupedByVocabularyId[k][0].vocabularyName,\n\t\t\t\t\ty: R.sum(R.pluck('viewed')(groupedByVocabularyId[k]))\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tresult.forEach(entry => {\n\t\t\tconsole.log(R.prop('y', entry));\n\t\t})\n\t\tconsole.log(result);\n\n\t}\n})\n"]},"hash":"fadec79d88e1d7085f11376886d9f49ebf556d21"}
