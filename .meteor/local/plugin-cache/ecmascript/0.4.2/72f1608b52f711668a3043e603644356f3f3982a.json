{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/views/high/index/chart_words_all.js","filenameRelative":"/client/views/high/index/chart_words_all.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/views/high/index/chart_words_all.js.map","sourceFileName":"/client/views/high/index/chart_words_all.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"chart_words_all"},"ignored":false,"code":"Template.chartWordsAll.onCreated(function () {\n\tvar template = Template.instance();\n\ttemplate.subscribe('dataViewed'); // Data.Viewed.find()\n});\n\nTemplate.chartWordsAll.rendered = function () {\n\n\t// chart object\n\tvar chart = nv.models.pieChart().x(function (d) {\n\t\treturn d.vocabularyName;\n\t}).y(function (d) {\n\t\treturn d.timesViewed;\n\t}).showLabels(true);\n\n\t// chart details\n\tnv.addGraph(function () {\n\t\tvar data = Data.Viewed.find({}, {\n\t\t\tlimit: 5,\n\t\t\tsort: {\n\t\t\t\ttimesViewed: -1\n\t\t\t}\n\t\t}).fetch();\n\t\td3.select('#chartWordsAll svg').datum(data).transition().duration(1200).call(chart);\n\n\t\t// nv.utils.windowResize(chart.update);\n\n\t\treturn chart;\n\t});\n\n\t// update chart when data changes\n\tthis.autorun(function () {\n\t\tvar data = Data.Viewed.find({}, {\n\t\t\tlimit: 5,\n\t\t\tsort: {\n\t\t\t\ttimesViewed: -1\n\t\t\t}\n\t\t}).fetch();\n\t\tconsole.log(data);\n\t\td3.select('#chartWordsAll svg').datum(data).transition().duration(1200).call(chart);\n\t\tchart.update();\n\t});\n};\n\n// data = Data.Viewed.find({}, {\n//     limit: 5,\n//     sort: {\n//         timesViewed: -1\n//     }\n// });","ast":null,"map":{"version":3,"sources":["/client/views/high/index/chart_words_all.js"],"names":[],"mappings":"AAAA,SAAS,aAAT,CAAuB,SAAvB,CAAiC,YAAM;AACtC,KAAI,WAAW,SAAS,QAAT,EAAX,CADkC;AAErC,UAAS,SAAT,CAAmB,YAAnB;AAFqC,CAAN,CAAjC;;AAKA,SAAS,aAAT,CAAuB,QAAvB,GAAkC,YAAW;;;AAG5C,KAAI,QAAQ,GAAG,MAAH,CAAU,QAAV,GACN,CADM,CACJ,UAAS,CAAT,EAAY;AAAE,SAAO,EAAE,cAAF,CAAT;EAAZ,CADI,CAEN,CAFM,CAEJ,UAAS,CAAT,EAAY;AAAE,SAAO,EAAE,WAAF,CAAT;EAAZ,CAFI,CAGN,UAHM,CAGK,IAHL,CAAR;;;AAHwC,GAS5C,CAAG,QAAH,CAAY,YAAW;AACtB,MAAI,OAAO,KAAK,MAAL,CAAY,IAAZ,CAAiB,EAAjB,EAAqB;AAC1B,UAAO,CAAP;AACA,SAAM;AACF,iBAAa,CAAC,CAAD;IADjB;GAFK,EAKN,KALM,EAAP,CADkB;AAOtB,KAAG,MAAH,CAAU,oBAAV,EACE,KADF,CACQ,IADR,EAEK,UAFL,GAEkB,QAFlB,CAE2B,IAF3B,EAGE,IAHF,CAGO,KAHP;;;;AAPsB,SAef,KAAP,CAfsB;EAAX,CAAZ;;;AAT4C,KA4B5C,CAAK,OAAL,CAAa,YAAW;AACrB,MAAI,OAAO,KAAK,MAAL,CAAY,IAAZ,CAAiB,EAAjB,EAAqB;AAC5B,UAAO,CAAP;AACA,SAAM;AACF,iBAAa,CAAC,CAAD;IADjB;GAFO,EAKR,KALQ,EAAP,CADiB;AAOrB,UAAQ,GAAR,CAAY,IAAZ,EAPqB;AAQrB,KAAG,MAAH,CAAU,oBAAV,EACA,KADA,CACM,IADN,EAEG,UAFH,GAEgB,QAFhB,CAEyB,IAFzB,EAGA,IAHA,CAGK,KAHL,EARqB;AAaxB,QAAM,MAAN,GAbwB;EAAX,CAAb,CA5B4C;CAAX","file":"/client/views/high/index/chart_words_all.js.map","sourcesContent":["Template.chartWordsAll.onCreated(() => {\n\tlet template = Template.instance();\n\t\ttemplate.subscribe('dataViewed'); // Data.Viewed.find()\n});\n\nTemplate.chartWordsAll.rendered = function() {\n\n\t// chart object\n\tlet chart = nv.models.pieChart()\n      .x(function(d) { return d.vocabularyName })\n      .y(function(d) { return d.timesViewed })\n      .showLabels(true);\n\n\t// chart details\n\tnv.addGraph(function() {\n\t\tlet data = Data.Viewed.find({}, {\n        limit: 5,\n        sort: {\n            timesViewed: -1\n        }\n    }).fetch();\n\t\td3.select('#chartWordsAll svg')\n\t\t\t.datum(data)\n      .transition().duration(1200)\n\t\t\t.call(chart)\n\t\t\t;\n\n\t\t// nv.utils.windowResize(chart.update);\n\n\t\treturn chart;\n\t});\n\n\t// update chart when data changes\n\tthis.autorun(function() {\n    let data = Data.Viewed.find({}, {\n        limit: 5,\n        sort: {\n            timesViewed: -1\n        }\n    }).fetch();\n    console.log(data);\n    d3.select('#chartWordsAll svg')\n\t  .datum(data)\n      .transition().duration(1200)\n\t  .call(chart)\n\t  ;\n\tchart.update();\n\t});\n\n};\n\n\n// data = Data.Viewed.find({}, {\n//     limit: 5,\n//     sort: {\n//         timesViewed: -1\n//     }\n// });\n"]},"hash":"72f1608b52f711668a3043e603644356f3f3982a"}
