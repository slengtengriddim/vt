{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/views/high/index/charts/chart_fav.js","filenameRelative":"/client/views/high/index/charts/chart_fav.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/views/high/index/charts/chart_fav.js.map","sourceFileName":"/client/views/high/index/charts/chart_fav.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"chart_fav"},"ignored":false,"code":"Template.chartFav.onCreated(function () {\n\tvar template = Template.instance();\n\ttemplate.subscribe('dataFavHigh');\n\ttemplate.subscribe('dataFavLow');\n});\n\nTemplate.chartFav.rendered = function () {\n\n\t// chart object\n\tvar chart = nv.models.lineChart().options({\n\t\ttransitionDuration: 300,\n\t\tuseInteractiveGuideline: true\n\t});\n\n\t// chart details\n\tnv.addGraph(function () {\n\t\tvar dataLow = Data.Fav.Low.find().fetch();\n\t\tvar dataHigh = Data.Fav.High.find().fetch();\n\t\tvar data = [{\n\t\t\tkey: 'low',\n\t\t\tvalues: dataLow\n\t\t}, {\n\t\t\tkey: 'high',\n\t\t\tvalues: dataHigh\n\t\t}];\n\n\t\tchart.xAxis.axisLabel(\"Time (s)\").tickFormat(d3.format(',.1f')).staggerLabels(true);\n\t\tchart.yAxis.axisLabel('Voltage (v)').tickFormat(function (d) {\n\t\t\tif (d == null) {\n\t\t\t\treturn 'N/A';\n\t\t\t}\n\t\t\treturn d3.format(',.2f')(d);\n\t\t});\n\n\t\td3.select('#chartFav svg').datum(data).transition().duration(500).call(chart);\n\n\t\tnv.utils.windowResize(chart.update);\n\n\t\treturn chart;\n\t});\n\n\t// update chart when data changes\n\tthis.autorun(function () {\n\t\tvar dataLow = Data.Fav.Low.find().fetch();\n\t\tvar dataHigh = Data.Fav.High.find().fetch();\n\t\tvar data = [{\n\t\t\tarea: true,\n\t\t\tkey: 'low',\n\t\t\tvalues: dataLow,\n\t\t\tcolor: \"#ff7f0e\",\n\t\t\tstrokeWidth: 4,\n\t\t\tclassed: 'dashed'\n\t\t}, {\n\t\t\tkey: 'high',\n\t\t\tvalues: dataHigh,\n\t\t\tcolor: \"#2ca02c\"\n\t\t}];\n\n\t\tconsole.log(data);\n\t\td3.select('#chartFav svg').datum(data).call(chart);\n\n\t\tchart.update();\n\t});\n};","ast":null,"map":{"version":3,"sources":["/client/views/high/index/charts/chart_fav.js"],"names":[],"mappings":"AAAA,SAAS,QAAT,CAAkB,SAAlB,CAA4B,YAAM;AACjC,KAAI,WAAW,SAAS,QAAT,EAAX,CAD6B;AAEjC,UAAS,SAAT,CAAmB,aAAnB,EAFiC;AAGjC,UAAS,SAAT,CAAmB,YAAnB,EAHiC;CAAN,CAA5B;;AAMA,SAAS,QAAT,CAAkB,QAAlB,GAA6B,YAAW;;;AAGvC,KAAI,QAAQ,GAAG,MAAH,CAAU,SAAV,GACV,OADU,CACF;AACR,sBAAoB,GAApB;AACA,2BAAyB,IAAzB;EAHU,CAAR;;;AAHmC,GAUvC,CAAG,QAAH,CAAY,YAAW;AACtB,MAAI,UAAU,KAAK,GAAL,CAAS,GAAT,CAAa,IAAb,GAAoB,KAApB,EAAV,CADkB;AAEtB,MAAI,WAAW,KAAK,GAAL,CAAS,IAAT,CAAc,IAAd,GAAqB,KAArB,EAAX,CAFkB;AAGtB,MAAI,OAAO,CAAC;AACX,QAAK,KAAL;AACA,WAAQ,OAAR;GAFU,EAGR;AACF,QAAK,MAAL;AACA,WAAQ,QAAR;GALU,CAAP,CAHkB;;AAWtB,QAAM,KAAN,CACE,SADF,CACY,UADZ,EAEE,UAFF,CAEa,GAAG,MAAH,CAAU,MAAV,CAFb,EAGE,aAHF,CAGgB,IAHhB,EAXsB;AAetB,QAAM,KAAN,CACE,SADF,CACY,aADZ,EAEE,UAFF,CAEa,UAAS,CAAT,EAAY;AACvB,OAAI,KAAK,IAAL,EAAW;AACd,WAAO,KAAP,CADc;IAAf;AAGA,UAAO,GAAG,MAAH,CAAU,MAAV,EAAkB,CAAlB,CAAP,CAJuB;GAAZ,CAFb,CAfsB;;AAwBtB,KAAG,MAAH,CAAU,eAAV,EACE,KADF,CACQ,IADR,EAEE,UAFF,GAEe,QAFf,CAEwB,GAFxB,EAE6B,IAF7B,CAEkC,KAFlC,EAxBsB;;AA4BtB,KAAG,KAAH,CAAS,YAAT,CAAsB,MAAM,MAAN,CAAtB,CA5BsB;;AA8BtB,SAAO,KAAP,CA9BsB;EAAX,CAAZ;;;AAVuC,KA4CvC,CAAK,OAAL,CAAa,YAAW;AACvB,MAAI,UAAU,KAAK,GAAL,CAAS,GAAT,CAAa,IAAb,GAAoB,KAApB,EAAV,CADmB;AAEvB,MAAI,WAAW,KAAK,GAAL,CAAS,IAAT,CAAc,IAAd,GAAqB,KAArB,EAAX,CAFmB;AAGvB,MAAI,OAAO,CAAC;AACX,SAAM,IAAN;AACA,QAAK,KAAL;AACA,WAAQ,OAAR;AACA,UAAO,SAAP;AACA,gBAAa,CAAb;AACA,YAAS,QAAT;GANU,EAOR;AACF,QAAK,MAAL;AACA,WAAQ,QAAR;AACA,UAAO,SAAP;GAVU,CAAP,CAHmB;;AAgBvB,UAAQ,GAAR,CAAY,IAAZ,EAhBuB;AAiBvB,KAAG,MAAH,CAAU,eAAV,EACE,KADF,CACQ,IADR,EAEE,IAFF,CAEO,KAFP,EAjBuB;;AAqBvB,QAAM,MAAN,GArBuB;EAAX,CAAb,CA5CuC;CAAX","file":"/client/views/high/index/charts/chart_fav.js.map","sourcesContent":["Template.chartFav.onCreated(() => {\n\tlet template = Template.instance();\n\ttemplate.subscribe('dataFavHigh');\n\ttemplate.subscribe('dataFavLow');\n});\n\nTemplate.chartFav.rendered = function() {\n\n\t// chart object\n\tvar chart = nv.models.lineChart()\n\t\t.options({\n\t\t\ttransitionDuration: 300,\n\t\t\tuseInteractiveGuideline: true\n\t\t});\n\n\t// chart details\n\tnv.addGraph(function() {\n\t\tlet dataLow = Data.Fav.Low.find().fetch();\n\t\tlet dataHigh = Data.Fav.High.find().fetch();\n\t\tlet data = [{\n\t\t\tkey: 'low',\n\t\t\tvalues: dataLow\n\t\t}, {\n\t\t\tkey: 'high',\n\t\t\tvalues: dataHigh\n\t\t}];\n\n\t\tchart.xAxis\n\t\t\t.axisLabel(\"Time (s)\")\n\t\t\t.tickFormat(d3.format(',.1f'))\n\t\t\t.staggerLabels(true);\n\t\tchart.yAxis\n\t\t\t.axisLabel('Voltage (v)')\n\t\t\t.tickFormat(function(d) {\n\t\t\t\tif (d == null) {\n\t\t\t\t\treturn 'N/A';\n\t\t\t\t}\n\t\t\t\treturn d3.format(',.2f')(d);\n\t\t\t});\n\n\t\td3.select('#chartFav svg')\n\t\t\t.datum(data)\n\t\t\t.transition().duration(500).call(chart);\n\n\t\tnv.utils.windowResize(chart.update);\n\n\t\treturn chart;\n\t});\n\n\t// update chart when data changes\n\tthis.autorun(function() {\n\t\tlet dataLow = Data.Fav.Low.find().fetch();\n\t\tlet dataHigh = Data.Fav.High.find().fetch();\n\t\tlet data = [{\n\t\t\tarea: true,\n\t\t\tkey: 'low',\n\t\t\tvalues: dataLow,\n\t\t\tcolor: \"#ff7f0e\",\n\t\t\tstrokeWidth: 4,\n\t\t\tclassed: 'dashed'\n\t\t}, {\n\t\t\tkey: 'high',\n\t\t\tvalues: dataHigh,\n\t\t\tcolor: \"#2ca02c\"\n\t\t}];\n\t\t\n\t\tconsole.log(data);\n\t\td3.select('#chartFav svg')\n\t\t\t.datum(data)\n\t\t\t.call(chart);\n\n\t\tchart.update();\n\t});\n\n\n}\n"]},"hash":"4ebd6a7096081b5a86dc328590ca98b5c66093b5"}
