{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/views/high/index/components/wordsAll.js","filenameRelative":"/client/views/high/index/components/wordsAll.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/views/high/index/components/wordsAll.js.map","sourceFileName":"/client/views/high/index/components/wordsAll.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"wordsAll"},"ignored":false,"code":"Template.wordsAll.onCreated(function () {\n\tvar template = Template.instance();\n\ttemplate.subscribe('dataWords');\n});\n\nTemplate.wordsAll.helpers({\n\ttop5: function () {\n\t\tfunction top5() {\n\t\t\tvar result = [];\n\t\t\tvar data = Data.Words.find({}, {\n\t\t\t\tsort: {\n\t\t\t\t\tviewed: -1,\n\t\t\t\t\tvocabularyName: -1\n\t\t\t\t}\n\t\t\t}).fetch();\n\t\t\tvar byVocabularyId = R.groupBy(function (entry) {\n\t\t\t\treturn entry.vocabularyId;\n\t\t\t});\n\n\t\t\tvar groupedByVocabularyId = byVocabularyId(data);\n\t\t\tfor (var k in meteorBabelHelpers.sanitizeForInObject(groupedByVocabularyId)) {\n\t\t\t\tif (groupedByVocabularyId.hasOwnProperty(k)) {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\tterm: groupedByVocabularyId[k][0].vocabularyName,\n\t\t\t\t\t\tcount: R.sum(R.pluck('viewed')(groupedByVocabularyId[k]))\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar sortByViewed = R.sortBy(R.prop('count'));\n\t\t\tresult = R.take(5, R.reverse(sortByViewed(result)));\n\t\t\tif (result.length >= 5) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\treturn top5;\n\t}()\n});","ast":null,"map":{"version":3,"sources":["/client/views/high/index/components/wordsAll.js"],"names":[],"mappings":"AAAA,SAAS,QAAT,CAAkB,SAAlB,CAA4B,YAAM;AACjC,KAAI,WAAW,SAAS,QAAT,EAAX,CAD6B;AAEjC,UAAS,SAAT,CAAmB,WAAnB,EAFiC;CAAN,CAA5B;;AAKA,SAAS,QAAT,CAAkB,OAAlB,CAA0B;AACzB;kBAAO;AACN,OAAI,SAAS,EAAT,CADE;AAEN,OAAI,OAAO,KAAK,KAAL,CAAW,IAAX,CAAgB,EAAhB,EAAoB;AAC9B,UAAM;AACL,aAAQ,CAAC,CAAD;AACR,qBAAgB,CAAC,CAAD;KAFjB;IADU,EAKR,KALQ,EAAP,CAFE;AAQN,OAAI,iBAAiB,EAAE,OAAF,CAAU,UAAS,KAAT,EAAgB;AAC9C,WAAO,MAAM,YAAN,CADuC;IAAhB,CAA3B,CARE;;AAYN,OAAI,wBAAwB,eAAe,IAAf,CAAxB,CAZE;AAaN,QAAK,IAAI,CAAJ,2CAAS,sBAAd,EAAqC;AACpC,QAAI,sBAAsB,cAAtB,CAAqC,CAArC,CAAJ,EAA6C;AAC5C,YAAO,IAAP,CAAY;AACX,YAAM,sBAAsB,CAAtB,EAAyB,CAAzB,EAA4B,cAA5B;AACN,aAAO,EAAE,GAAF,CAAM,EAAE,KAAF,CAAQ,QAAR,EAAkB,sBAAsB,CAAtB,CAAlB,CAAN,CAAP;MAFD,EAD4C;KAA7C;IADD,CAbM;AAqBN,OAAI,eAAe,EAAE,MAAF,CAAS,EAAE,IAAF,CAAO,OAAP,CAAT,CAAf,CArBE;AAsBN,YAAS,EAAE,IAAF,CAAO,CAAP,EAAU,EAAE,OAAF,CAAU,aAAa,MAAb,CAAV,CAAV,CAAT,CAtBM;AAuBN,OAAI,OAAO,MAAP,IAAiB,CAAjB,EAAoB;AACvB,WAAO,MAAP,CADuB;IAAxB;;;;IAxBwB;CAA1B","file":"/client/views/high/index/components/wordsAll.js.map","sourcesContent":["Template.wordsAll.onCreated(() => {\n\tlet template = Template.instance();\n\ttemplate.subscribe('dataWords');\n});\n\nTemplate.wordsAll.helpers({\n\ttop5() {\n\t\tlet result = [];\n\t\tlet data = Data.Words.find({}, {\n\t\t\tsort: {\n\t\t\t\tviewed: -1,\n\t\t\t\tvocabularyName: -1\n\t\t\t}\n\t\t}).fetch();\n\t\tlet byVocabularyId = R.groupBy(function(entry) {\n\t\t\treturn entry.vocabularyId;\n\t\t});\n\n\t\tlet groupedByVocabularyId = byVocabularyId(data);\n\t\tfor (let k in groupedByVocabularyId) {\n\t\t\tif (groupedByVocabularyId.hasOwnProperty(k)) {\n\t\t\t\tresult.push({\n\t\t\t\t\tterm: groupedByVocabularyId[k][0].vocabularyName,\n\t\t\t\t\tcount: R.sum(R.pluck('viewed')(groupedByVocabularyId[k]))\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tlet sortByViewed = R.sortBy(R.prop('count'));\n\t\tresult = R.take(5, R.reverse(sortByViewed(result)));\n\t\tif (result.length >= 5) {\n\t\t\treturn result;\n\t\t}\n\t}\n});\n"]},"hash":"ddb92ca116e36db007e7e751ea1e64b6647588f3"}
