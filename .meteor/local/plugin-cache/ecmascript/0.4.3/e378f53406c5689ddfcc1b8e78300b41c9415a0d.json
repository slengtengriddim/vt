{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/layout/_GLOBAL_HELPERS.js","filenameRelative":"/client/layout/_GLOBAL_HELPERS.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/layout/_GLOBAL_HELPERS.js.map","sourceFileName":"/client/layout/_GLOBAL_HELPERS.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"_GLOBAL_HELPERS"},"ignored":false,"code":"Meteor.subscribe(\"userExt\");\n// Global helpers\n\n// e.g. {{getSession \"posX\"}} in Template\nTemplate.registerHelper('getSession', function (key) {\n\treturn Session.get(key);\n});\nTemplate.registerHelper('currentUserMail', function () {\n\treturn Meteor.user().emails[0].address;\n});\nTemplate.registerHelper('isOwner', function () {\n\treturn this.userId == Meteor.userId();\n});\nTemplate.registerHelper('surveySubmitted', function () {\n\tvar query = UserExt.findOne({ userId: Meteor.userId(), surveySubmitted: true });\n\tif (query) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n});\nTemplate.registerHelper(\"lengthIsOne\", function () {\n\treturn Session.get(LENGTH_FAV) === 1 && Session.get(SOURCE_FAV) || Session.get(LENGTH_NOT_FAV) === 1 && !Session.get(SOURCE_FAV);\n});\nTemplate.registerHelper(\"isFavourite\", function (vocabularyId) {\n\tvar favEntry = Favourites.findOne({\n\t\tvocabularyId: vocabularyId\n\t});\n\tif (favEntry) {\n\t\treturn true;\n\t}\n});\nTemplate.registerHelper(\"favourites\", function () {\n\tvar favIds = R.pluck('vocabularyId')(Favourites.find({}).fetch());\n\tif (Favourites.find().count() !== 0) {\n\t\treturn Vocabulary.find({\n\t\t\t_id: {\n\t\t\t\t$in: favIds\n\t\t\t}\n\t\t}, {\n\t\t\tsort: {\n\t\t\t\tterm: 1\n\t\t\t}\n\t\t});\n\t} else {\n\t\treturn null;\n\t}\n});\nTemplate.registerHelper(\"entry\", function () {\n\tvar currentUserId = this.userId;\n\tvar favIds = R.pluck('vocabularyId')(Favourites.find().fetch());\n\tvar vocabulary = [];\n\n\tif (document.getElementById(\"term\")) {\n\t\tdocument.getElementById(\"term\").focus();\n\t}\n\n\tif (Session.get(SOURCE_FAV)) {\n\t\tvocabulary = Vocabulary.find({\n\t\t\t_id: {\n\t\t\t\t$in: favIds\n\t\t\t}\n\t\t}).fetch();\n\t} else {\n\t\tvocabulary = Vocabulary.find({\n\t\t\t_id: {\n\t\t\t\t$nin: favIds\n\t\t\t}\n\t\t}).fetch();\n\t}\n\treturn vocabulary[Session.get(COUNT_VIEWED)];\n});\n\n// NAV SOURCE\nTemplate.registerHelper(\"source\", function () {\n\tif (Session.get(SOURCE_FAV)) {\n\t\treturn \"Favoriten\";\n\t} else {\n\t\treturn \"Nicht-Favoriten\";\n\t}\n});","ast":null,"map":{"version":3,"sources":["/client/layout/_GLOBAL_HELPERS.js"],"names":[],"mappings":"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","file":"/client/layout/_GLOBAL_HELPERS.js.map","sourcesContent":["Meteor.subscribe(\"userExt\");\n// Global helpers\n\n// e.g. {{getSession \"posX\"}} in Template\nTemplate.registerHelper('getSession', function(key) {\n\treturn Session.get(key);\n});\nTemplate.registerHelper('currentUserMail', function() {\n\treturn Meteor.user().emails[0].address;\n});\nTemplate.registerHelper('isOwner', function() {\n\treturn this.userId == Meteor.userId();\n});\nTemplate.registerHelper('surveySubmitted', function() {\n\tlet query = UserExt.findOne({userId: Meteor.userId(), surveySubmitted: true});\n\tif (query) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n});\nTemplate.registerHelper(\"lengthIsOne\", function() {\n\treturn (Session.get(LENGTH_FAV) === 1) && Session.get(SOURCE_FAV) ||\n\t\t(Session.get(LENGTH_NOT_FAV) === 1) && !Session.get(SOURCE_FAV);\n});\nTemplate.registerHelper(\"isFavourite\", function(vocabularyId) {\n\tlet favEntry = Favourites.findOne({\n\t\tvocabularyId: vocabularyId\n\t});\n\tif (favEntry) {\n\t\treturn true;\n\t}\n});\nTemplate.registerHelper(\"favourites\", function() {\n\tlet favIds = R.pluck('vocabularyId')(Favourites.find({}).fetch());\n\tif (Favourites.find().count() !== 0) {\n\t\treturn Vocabulary.find({\n\t\t\t_id: {\n\t\t\t\t$in: favIds\n\t\t\t}\n\t\t}, {\n\t\t\tsort: {\n\t\t\t\tterm: 1\n\t\t\t}\n\t\t});\n\t} else {\n\t\treturn null;\n\t}\n});\nTemplate.registerHelper(\"entry\", function() {\n\tlet currentUserId = this.userId;\n\tlet favIds = R.pluck('vocabularyId')(Favourites.find().fetch());\n\tlet vocabulary = [];\n\n\tif (document.getElementById(\"term\")) {\n\t\tdocument.getElementById(\"term\").focus();\n\t}\n\n\tif (Session.get(SOURCE_FAV)) {\n\t\tvocabulary = Vocabulary.find({\n\t\t\t_id: {\n\t\t\t\t$in: favIds\n\t\t\t}\n\t\t}).fetch();\n\t} else {\n\t\tvocabulary = Vocabulary.find({\n\t\t\t_id: {\n\t\t\t\t$nin: favIds\n\t\t\t}\n\t\t}).fetch();\n\t}\n\treturn vocabulary[Session.get(COUNT_VIEWED)];\n});\n\n// NAV SOURCE\nTemplate.registerHelper(\"source\", function() {\n\tif (Session.get(SOURCE_FAV)) {\n\t\treturn \"Favoriten\";\n\t} else {\n\t\treturn \"Nicht-Favoriten\";\n\t}\n});\n"]},"hash":"e378f53406c5689ddfcc1b8e78300b41c9415a0d"}
